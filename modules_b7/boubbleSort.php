<?php  
/*сортировка пузырьком*/


/*
 Она проходит через массив несколько раз, сравнивая соседние элементы и меняя их местами, если они находятся в неправильном порядке. Флаг swapped используется для оптимизации алгоритма: если на данной итерации не произошло обменов, значит массив уже отсортирован, и сортировка может быть прекращена.
*/

function bubbleSort($arr) {
    $n = count($arr);

    for ($i = 0; $i < $n - 1; $i++) {
        // Флаг, указывающий, были ли обмены на данной итерации
        $swapped = false;

        for ($j = 0; $j < $n - $i - 1; $j++) {
            // Сравниваем два соседних элемента
            if ($arr[$j] > $arr[$j + 1]) {
                // Меняем местами элементы
                $temp = $arr[$j];
                $arr[$j] = $arr[$j + 1];
                $arr[$j + 1] = $temp;

                // Устанавливаем флаг обмена в true
                $swapped = true;
            }
        }

        // Если на данной итерации не было обменов, значит массив уже отсортирован
        if (!$swapped) {
            break;
        }
    }

    return $arr;
}

// Пример использования
$array = [4, 2, 7, 1, 3];
$sortedArray = bubbleSort($array);

// Вывод отсортированного массива
echo "Sorted array: " . implode(", ", $sortedArray);

/*

Для больших массивов рекомендуется использовать более эффективные алгоритмы сортировки, такие как сортировка слиянием (Merge Sort) или быстрая сортировка (Quick Sort).
*/